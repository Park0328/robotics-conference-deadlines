<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Robotics Conference Deadlines</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body{font-family:system-ui,sans-serif;margin:0;background:#f8f9fa;color:#212529}
    header{padding:2rem;text-align:center;background:#fff;border-bottom:1px solid #dee2e6}
    h1{margin:0 0 .5rem;font-size:2rem}
    main{max-width:800px;margin:2rem auto;padding:0 1rem}
    .conf-card{background:#fff;border-radius:8px;padding:1.5rem;margin-bottom:1rem;box-shadow:0 2px 8px rgba(0,0,0,.1)}
    .conf-card h2{margin:.5rem 0;font-size:1.3rem}
    .conf-card a{color:#0d6efd;text-decoration:none}
    .conf-card a:hover{text-decoration:underline}
    .countdown{font-weight:600;color:#dc3545;font-size:1.1rem}
    .passed{color:#6c757d}
  </style>
</head>
<body>
  <header>
    <h1>ðŸ¤– Robotics Conference Deadlines</h1>
    <p>Countdowns to top robotics conference deadlines</p>
  </header>
  <main>
    <div id="conferences"></div>
  </main>
  <script>
    async function init(){
      const res=await fetch("conferences.json");
      const confs=await res.json();
      const container=document.getElementById("conferences");
      
      confs.sort((a,b)=>new Date(a.deadline)-new Date(b.deadline))
           .forEach(c=>{
        const card=document.createElement("div");
        card.className="conf-card";
        card.innerHTML=`
          <h2><a href="${c.link}" target="_blank">${c.name} (${c.acronym})</a></h2>
          <div class="countdown" data-deadline="${c.deadline}"></div>
          <small>${c.timezone}</small>
        `;
        container.appendChild(card);
      });
      startCountdown();
    }
    
    function startCountdown(){
      function update(){
        document.querySelectorAll(".countdown").forEach(el=>{
          const deadline=new Date(el.dataset.deadline);
          const now=new Date();
          const diff=deadline-now;
          
          if(diff<=0){
            el.textContent="â° Deadline passed";
            el.className="countdown passed";
            return;
          }
          
          const days=Math.floor(diff/(1000*60*60*24));
          const hours=Math.floor((diff%(1000*60*60*24))/(1000*60*60));
          const mins=Math.floor((diff%(1000*60*60))/(1000*60));
          
          el.textContent=`${days}d ${hours}h ${mins}m left â³`;
        });
      }
      update();
      setInterval(update,60000);
    }
    
    init();
  </script>
</body>
</html>
